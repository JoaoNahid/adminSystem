{"ast":null,"code":"import _classCallCheck from\"/home/joao/\\xC1rea de Trabalho/adminSystem/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/joao/\\xC1rea de Trabalho/adminSystem/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/joao/\\xC1rea de Trabalho/adminSystem/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/joao/\\xC1rea de Trabalho/adminSystem/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Axios from\"axios\";import md5 from\"md5-hash\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.logar=function(e){e.preventDefault();// 'http://localhost:3001/login/'+this.state.email+'/'+this.state.senha\nAxios.get('http://localhost:3001/login/',{params:{user:_this.state.usuario,senha:md5(_this.state.senha)}}).then(function(response){var dadosDoServidor=response.data[0];if(dadosDoServidor!=undefined){_this.logarUsuario(dadosDoServidor.idUsuario,dadosDoServidor.email);}else{window.alert('Login Inválido');}});};_this.logarUsuario=function(id,email){var token=md5(id+email);Axios.post('http://localhost:3001/conexoesUsuarios',{id:id,token:token}).then(function(response){console.log(response);localStorage.setItem(\"id\",id);localStorage.setItem(\"token\",token);window.location.href=\"/home\";});};_this.state={usuario:\"\",senha:\"\",email:\"\"};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{id:\"bgAreaLogin\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"areaLogin\",className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logoAreaLogin\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"formLogin\",method:\"post\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputCampo\",type:\"text\",autoComplete:\"off\",placeholder:\"Usu\\xE1rio\",name:\"usuario\",defaultValue:this.state.usuario,onChange:function onChange(e){return _this2.setState({usuario:e.target.value});}}),/*#__PURE__*/_jsx(\"input\",{className:\"inputCampo\",type:\"password\",autoComplete:\"off\",placeholder:\"Senha\",name:\"senha\",defaultValue:this.state.senha,onChange:function onChange(e){return _this2.setState({senha:e.target.value});}}),/*#__PURE__*/_jsx(\"input\",{className:\"btnLogar\",type:\"submit\",name:\"logar\",defaultValue:\"Login\",onClick:function onClick(e){return _this2.logar(e);}}),/*#__PURE__*/_jsx(\"a\",{className:\"esqueciASenha\",href:\"esqueci-a-senha.php\",children:\"Esqueci minha senha\"})]})]})});}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/home/joao/Área de Trabalho/adminSystem/client/src/routes/login.js"],"names":["React","Component","Axios","md5","Login","logar","e","preventDefault","get","params","user","state","usuario","senha","then","response","dadosDoServidor","data","undefined","logarUsuario","idUsuario","email","window","alert","id","token","post","console","log","localStorage","setItem","location","href","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component} from \"react\"\nimport Axios from \"axios\"\nimport md5 from \"md5-hash\"\n\nexport default class Login extends Component{\n    constructor() {\n        super()\n\n        this.state = {\n            usuario: \"\",\n            senha: \"\",\n            email: \"\"\n        }\n    }\n\n    logar = (e) => {\n        e.preventDefault()\n        // 'http://localhost:3001/login/'+this.state.email+'/'+this.state.senha\n        Axios.get('http://localhost:3001/login/', { \n            params: {\n                user: this.state.usuario,\n                senha: md5(this.state.senha)\n            }\n            \n        }).then((response) => {\n            var dadosDoServidor = response.data[0]\n            if(dadosDoServidor != undefined){\n                this.logarUsuario(dadosDoServidor.idUsuario, dadosDoServidor.email)\n            } else {\n                window.alert('Login Inválido')\n            }\n            \n        })\n        \n    }\n\n    logarUsuario = (id, email) => {\n\n        const token = md5(id+email)\n        Axios.post('http://localhost:3001/conexoesUsuarios', {\n            id: id,\n            token: token\n        }).then((response) => {\n            console.log(response)\n            localStorage.setItem(\"id\", id)\n            localStorage.setItem(\"token\", token)\n            window.location.href = \"/home\"\n        })\n    }\n\n    render() {\n        return (\n            <div id=\"bgAreaLogin\">\n                <div id=\"areaLogin\" className=\"\">\n                    <div className=\"logoAreaLogin\"> \n\n                    </div>\n                    <form className=\"formLogin\" method=\"post\">\n                        <input className=\"inputCampo\" type=\"text\" autoComplete=\"off\" placeholder=\"Usuário\" name=\"usuario\" defaultValue={this.state.usuario} onChange={(e) => (this.setState({usuario: e.target.value}))} />\n                        <input className=\"inputCampo\" type=\"password\" autoComplete=\"off\" placeholder=\"Senha\" name=\"senha\" defaultValue={this.state.senha} onChange={(e) => (this.setState({ senha: e.target.value }))}/>\n\n                        <input className=\"btnLogar\" type=\"submit\" name=\"logar\" defaultValue=\"Login\" onClick={(e) => this.logar(e)} />\n                        <a className=\"esqueciASenha\" href=\"esqueci-a-senha.php\">Esqueci minha senha</a>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}